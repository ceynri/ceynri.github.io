(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{247:function(t,s,a){"use strict";a.r(s);var n=a(1),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"javascript-async-å‡½æ•°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#javascript-async-å‡½æ•°","aria-hidden":"true"}},[t._v("#")]),t._v(" JavaScript | async å‡½æ•°")]),t._v(" "),a("p",[t._v("async æ˜¯ Generator å‡½æ•°é”€å£°åŒ¿è¿¹çš„ç½ªé­ç¥¸é¦–ï¼Œawait æ˜¯ Promise ç¾åŒ–çš„å¾—åŠ›ä¼™ä¼´ã€‚")]),t._v(" "),a("h2",{attrs:{id:"generator-å‡½æ•°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#generator-å‡½æ•°","aria-hidden":"true"}},[t._v("#")]),t._v(" Generator å‡½æ•°")]),t._v(" "),a("p",[t._v("å¦‚æœä½ ä¸å¤ªäº†è§£ Generator å‡½æ•°æ˜¯æ€ä¹ˆç”¨çš„ï¼Œä¹Ÿæ²¡æœ‰å¤ªå¤§å…³ç³»ï¼Œå› ä¸ºç°åœ¨æˆ‘ä»¬å·²ç»è¶Šæ¥è¶Šå°‘çœ‹åˆ°ä»–çš„èº«å½±äº†ï¼Œå–è€Œä»£ä¹‹çš„å°±æ˜¯ async å‡½æ•° â€”â€” Generator å‡½æ•°çš„è¯­æ³•ç³–ã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("å¦‚æœå¯¹ Generator ä¸æ„Ÿå…´è¶£ï¼Œå¯ä»¥å…ˆè·³è¿‡è¿™ä¸€éƒ¨åˆ†")])]),t._v(" "),a("p",[t._v("ä¸€ä¸ªç®€å•çš„ Generator å‡½æ•°å¤§æ¦‚æ˜¯è¿™æ ·å­ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("myGenerator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("x")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" g "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("myGenerator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ng"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// { value: 3, done: false }")]),t._v("\ng"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// { value: 2, done: true }")]),t._v("\n")])])]),a("p",[t._v("å½“ function æ ‡è¯†ç¬¦åé¢åŠ ä¸Šä¸€ä¸ª "),a("code",[t._v("*")]),t._v(" æ—¶ï¼Œå°±ä»£è¡¨è¯¥å‡½æ•°ä¸º Generator å‡½æ•°ã€‚Generator å‡½æ•°å†…å¯ä»¥æ·»åŠ  yield å…³é”®å­—ï¼Œå½“ä»£ç è°ƒç”¨ Generator å‡½æ•°æ—¶ï¼Œä»£ç å¹¶ä¸ä¼šç«‹å³æ‰§è¡Œï¼Œåªæœ‰è°ƒç”¨å®ƒçš„ next æ–¹æ³•ï¼Œå‡½æ•°æ‰ä¼šè¿è¡Œï¼Œä¸”ä¼šåœ¨ yield å…³é”®å­—å¤„åœä¸‹ï¼Œè¿”å› yield å…³é”®å­—åé¢çš„è¡¨è¾¾å¼çš„å€¼ã€‚è°ƒç”¨ next æ–¹æ³•å¾—åˆ°çš„æ˜¯ä¸€ä¸ªåŒ…å« "),a("code",[t._v("value")]),t._v(" ä¸ "),a("code",[t._v("done")]),t._v(" çš„å¯¹è±¡ï¼Œ"),a("code",[t._v("value")]),t._v(" è¡¨ç¤º yield åçš„è¡¨è¾¾å¼çš„å€¼ï¼Œ"),a("code",[t._v("done")]),t._v(" è¡¨ç¤ºè¯¥ Generator å‡½æ•°æ˜¯å¦ return ç»“æŸã€‚")]),t._v(" "),a("p",[t._v("next æ–¹æ³•æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œå®ƒä¼šä»£æ›¿æ‰ä¸Šä¸€ä¸ª yield å…³é”®å­—åçš„è¡¨è¾¾å¼çš„å€¼ï¼Œå‚ä¸å‡½æ•°çš„è¿ç®—ã€‚ä¾‹å¦‚ä¸Šä¾‹ä¸­ï¼Œ"),a("code",[t._v("g.next()")]),t._v(" è·å¾—çš„ "),a("code",[t._v("x + 2")]),t._v(" çš„å€¼ä¸º "),a("code",[t._v("3")]),t._v("ï¼Œè€Œæ¥ä¸‹æ¥çš„ "),a("code",[t._v("g.next(2)")]),t._v(" ç”¨ "),a("code",[t._v("2")]),t._v(" ä»£æ›¿äº† "),a("code",[t._v("3")]),t._v("ï¼Œè¿›å…¥ä»£ç é€»è¾‘ä¸­ï¼Œèµ‹å€¼ç»™å˜é‡ "),a("code",[t._v("y")]),t._v("ï¼Œå› ä¸º next æ–¹æ³•ä¼šè·å¾— return å€¼ï¼Œæ‰€ä»¥ å¾—åˆ°çš„å¯¹è±¡ "),a("code",[t._v("value = 2")]),t._v("ï¼Œä¸” "),a("code",[t._v("done = true")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("æˆ–è®¸ä¸Šé¢çš„ Generator å‡½æ•°ä¼šè®©ä½ æ„Ÿè§‰è«åå…¶å¦™ï¼Œå¥½ç«¯ç«¯çš„å‡½æ•°éè¦å˜å¾—é‚£ä¹ˆå¤æ‚ã€‚å®é™…ä¸Šå®ƒåªæ˜¯ç”¨æ¥å¿«é€Ÿè¯´æ˜ Generator ç‰¹æ€§çš„ä¸€ä¸ªä¾‹å­ï¼Œå³â€œèƒ½å¤Ÿæš‚åœä»£ç çš„æ‰§è¡Œâ€ï¼Œè®©å‡ºæ‰§è¡Œæƒã€‚è¿™ä¸ªç‰¹æ€§ä½¿å¾—å®ƒå¯ä»¥æ¯”è¾ƒå¥½çš„åº”ç”¨åœ¨å¼‚æ­¥æ“ä½œä¸­ï¼Œæˆ‘ä»¬ç­‰å¾…ï¼ˆyieldï¼‰å¼‚æ­¥æ“ä½œçš„å›è°ƒï¼Œè®©è¯¥æ“ä½œåœ¨æ‰§è¡Œå®Œæˆåå†æ‰§è¡Œä¸‹ä¸€ä¸ªæ“ä½œï¼ˆnextï¼‰ï¼Œä»è€Œé¿å…â€œå›è°ƒåœ°ç‹±â€çš„é—®é¢˜ã€‚")]),t._v(" "),a("p",[t._v("ä½†æ˜¾ç„¶ï¼Œå•å•çš„ Generator å‡½æ•°å¹¶ä¸èƒ½å¾ˆæ–¹ä¾¿åœ°åº”ç”¨äºå¼‚æ­¥ç¼–ç¨‹ä¸­ï¼Œéœ€è¦è¿›è¡Œä¸€äº›åŒ…è£…ï¼Œä½¿å…¶å˜å¾—å¥½ç”¨ã€‚è™½ç„¶æ›¾ç»æœ‰äº›åº“åˆ©ç”¨è¯¥ç‰¹æ€§ä¸ºå¼‚æ­¥ç¼–ç¨‹æä¾›äº†ä¸å°çš„å¸®åŠ©ï¼Œä½† async å‡½æ•°çš„å‡ºç°ï¼Œä¸€ä¸‹å­å°±æŠŠå®ƒè¿™ä¸ªç‰¹ç‚¹ç»™å¾ˆå¥½çš„ cover ä½äº†ã€‚")]),t._v(" "),a("h2",{attrs:{id:"async"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#async","aria-hidden":"true"}},[t._v("#")]),t._v(" async")]),t._v(" "),a("p",[t._v("æŠŠä¸Šé¢çš„ä¾‹å­ç”¨ async è¯­æ³•æ¥æ”¹å†™ä¸€ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("myGenerator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("x")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" g "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("myGenerator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Promise {<resolved>: 3}")]),t._v("\n")])])]),a("p",[t._v("ç»è¿‡å¯¹æ¯”å¯ä»¥çœ‹åˆ°ï¼Œ"),a("code",[t._v("async")]),t._v(" ä»£æ›¿äº† "),a("code",[t._v("*")]),t._v("ï¼Œ"),a("code",[t._v("await")]),t._v(" ä»£æ›¿äº† "),a("code",[t._v("yield")]),t._v("ï¼Œå°±å®ç°äº†ä» Generator å‡½æ•°åˆ° async å‡½æ•°çš„è½¬æ¢ã€‚")]),t._v(" "),a("p",[t._v("åœ¨ "),a("code",[t._v("function")]),t._v(" å…³é”®å­—ä¹‹å‰åŠ ä¸Š "),a("code",[t._v("async")]),t._v("ï¼Œæˆ‘ä»¬å°±å£°æ˜äº†ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ã€‚è¿™ç§å‡½æ•°ä¸€è¢«æ‰§è¡Œå°±ä¼šè¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œä¸é˜»å¡ä»£ç çš„æ‰§è¡Œã€‚å‡½æ•°æ­£å¸¸ç»“æŸï¼Œå°±å›è°ƒ resolveï¼›æŠ›å‡ºå¼‚å¸¸ï¼Œåˆ™äº§ç”Ÿ rejectã€‚")]),t._v(" "),a("p",[t._v("è€Œåœ¨å‡½æ•°å†…éƒ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ await å…³é”®å­—ä¿®é¥°è¡¨è¾¾å¼ã€‚await çš„ä½œç”¨å°±åœ¨äºï¼Œå®ƒèƒ½å¤Ÿè®©ä¸€ä¸ªå¼‚æ­¥çš„ä»£ç ä¸²è¡ŒåŒ–ï¼Œå¦‚æœ await åé¢è·Ÿç€çš„æ˜¯ Promise å¯¹è±¡ï¼Œä»£ç å°±ä¼šâ€œåœä¸‹æ¥â€ï¼Œç­‰å¾…åé¢çš„å¼‚æ­¥ä»£ç è°ƒç”¨æ‰§è¡Œå®Œæ¯•ï¼Œç„¶åå¾—åˆ°è¿”å›çš„ resolve çš„å‚æ•°ï¼ˆå³ä¾¿ await åæ˜¯åŸå§‹ç±»å‹çš„å€¼ï¼Œä¹Ÿä¼šè¢«è‡ªåŠ¨è½¬æ¢ä¸º resolved çš„ Promise å¯¹è±¡ï¼‰ã€‚")]),t._v(" "),a("p",[t._v("å®é™…ä¸Šï¼Œæ•´ä¸ªä»£ç æµç¨‹å¹¶ä¸ä¼šçœŸçš„åœ¨ await å¤„æš‚åœï¼Œå› ä¸º async å‡½æ•°ä»£è¡¨äº†å®ƒæ˜¯ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ï¼Œå½“ async å‡½æ•°å†…éƒ¨æš‚åœåï¼Œä¼šå°†ä¸»åŠ¨æƒè®©ç»™ async å‡½æ•°è°ƒç”¨ä½ç½®åç»­çš„ä»£ç ï¼Œä¸é˜»å¡ä¸»æµç¨‹ã€‚æ‰€ä»¥ await åªèƒ½å‡ºç°åœ¨ async å‡½æ•°ä¸­ã€‚")]),t._v(" "),a("p",[t._v("å¦å¤–ï¼ŒåŸæœ¬éœ€è¦ç”¨ catch æ¥å¯¹ Promise å¯¹è±¡çš„å¼‚å¸¸è¿›è¡Œæ•è·ï¼Œç°åœ¨åœ¨ async å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ "),a("code",[t._v("try...catch")]),t._v(" è¯­å¥æ¥å®Œæˆè¿™ä»¶äº‹æƒ…ã€‚")]),t._v(" "),a("p",[t._v("è¿™ä¸ªç‰¹ç‚¹å°±ä½¿å¾—æˆ‘ä»¬å¯ä»¥å°†åŸæœ¬éœ€è¦ä¸æ–­ "),a("code",[t._v("then")]),t._v("ã€"),a("code",[t._v("then")]),t._v("ã€...ã€"),a("code",[t._v("catch")]),t._v(" çš„ä»£ç å˜å¾—å’Œæ™®é€šçš„ä¸²è¡Œä»£ç çœ‹èµ·æ¥æ²¡æœ‰å¤ªå¤§çš„å·®åˆ«ï¼Œè¿™åœ¨é˜…è¯»ä¸Šæœ‰äº†å¾ˆå¥½çš„æ”¹è§‚ï¼ŒåŒæ—¶ä¹Ÿå¯¹æ—¥åçš„ä»£ç é‡æ„éå¸¸å‹å¥½ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ›¿æ¢å‰")]),t._v("\npromiseObj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("asyncFunc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("b")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ›¿æ¢å")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" promiseObj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" b "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("asyncFunc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  b "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("å½“ç„¶ï¼Œå¦‚æœåœ¨ä½ çš„ä»£ç å—ä¸­ï¼Œå¼‚æ­¥æ“ä½œåè¿˜è·Ÿç€åŒæ­¥æ“ä½œï¼Œé‚£å°±ä¸èƒ½è¿™ä¹ˆä»£æ›¿äº†ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¾“å‡ºç»“æœï¼š2ã€1")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¾“å‡ºç»“æœï¼š1ã€2")]),t._v("\n")])])]),a("p",[t._v("ä¸è¿‡ä¸€èˆ¬æ¥è¯´ï¼Œå‡ºç°è¿™æ ·çš„æƒ…å†µè¯´æ˜ "),a("code",[t._v("console.log(2)")]),t._v(" ä¸å‰é¢çš„å¼‚æ­¥ä»£ç æ²¡æœ‰è”ç³»ï¼Œåšçš„ä¸æ˜¯ç›¸åŒçš„äº‹æƒ…ï¼Œåè€Œå¯ä»¥è€ƒè™‘å®ƒä»¬æœ‰æ²¡æœ‰å¿…è¦æ”¾åœ¨åŒä¸€ä¸ªå‡½æ•°é‡Œé¢äº†ã€‚")]),t._v(" "),a("p",[t._v("æ€»ä¹‹ async/await è¯­æ³•å¹¶ä¸éš¾æ‡‚ï¼Œåªè¦æˆ‘ä»¬ç†æ¸…äº† Promiseã€asyncã€generator ä¹‹é—´çš„å…³ç³»ï¼Œå‰©ä¸‹çš„å°±æ˜¯ä¸æ–­ç†Ÿç»ƒè¯­æ³•äº†~å°è¯•æ›´ä¼˜é›…çš„ç¼–å†™å¼‚æ­¥ä»£ç å§ğŸ˜„")])])},[],!1,null,null,null);s.default=e.exports}}]);